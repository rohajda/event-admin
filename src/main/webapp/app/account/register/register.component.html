<div>
    <div class='row justify-content-center'>
        <div class='col-md-4'>
            <h1 jhiTranslate='register.title'>Registration</h1>

            <div class='alert alert-success' *ngIf='success' jhiTranslate='register.messages.success'>
                <strong>Registration saved!</strong> Please check your email for confirmation.
            </div>

            <div class='alert alert-danger' *ngIf='error' jhiTranslate='register.messages.error.fail'>
                <strong>Registration failed!</strong> Please try again later.
            </div>

            <div class='alert alert-danger' *ngIf='errorUserExists' jhiTranslate='register.messages.error.userexists'>
                <strong>Login name already registered!</strong> Please choose another one.
            </div>

            <div class='alert alert-danger' *ngIf='errorEmailExists' jhiTranslate='register.messages.error.emailexists'>
                <strong>Email is already in use!</strong> Please choose another one.
            </div>

            <div class='alert alert-danger' *ngIf='doNotMatch' jhiTranslate='global.messages.error.dontmatch'>
                The password and its confirmation do not match!
            </div>
        </div>
    </div>

    <div class='row justify-content-center register-detail'>
        <div class='col-md-4'>
            <form name='form' role='form' (ngSubmit)='register()' [formGroup]='registerForm' *ngIf='!success'>
                <div class='form-group'>
                    <mat-form-field class='mat-form-field-fluid'>
                        <mat-label>{{ 'global.form.username.label' | translate }}</mat-label>

                        <input matInput type='text' id='login' name='login'
                               placeholder="{{ 'global.form.username.placeholder' | translate }}"
                               formControlName='login' #login>
                        <mat-error *ngIf="isControlError('login','required')">
                            <strong>{{ 'register.messages.validate.login.required' | translate }}</strong>
                        </mat-error>
                        <mat-error *ngIf="isControlError('login','minlength')">
                            <strong>{{ 'register.messages.validate.login.minlength' | translate }}</strong>
                        </mat-error>
                        <mat-error *ngIf="isControlError('login','maxlength')">
                            <strong>{{ 'register.messages.validate.login.maxlength' | translate }}</strong>
                        </mat-error>
                        <mat-error *ngIf="isControlError('login','pattern')">
                            <strong>{{ 'register.messages.validate.login.pattern' | translate }}</strong>
                        </mat-error>
                    </mat-form-field>
                </div>

                <div class='form-group'>
                    <mat-form-field class='mat-form-field-fluid'>
                        <mat-label>{{ 'global.form.email.label' | translate }}</mat-label>

                        <input matInput type='email' id='email' name='email'
                               placeholder="{{ 'global.form.email.label' | translate }}"
                               formControlName='email'>
                        <mat-error *ngIf="isControlError('email','required')">
                            <strong>{{ 'global.messages.validate.email.required' | translate }}</strong>
                        </mat-error>
                        <mat-error *ngIf="isControlError('email','minlength')">
                            <strong>{{ 'global.messages.validate.email.minlength' | translate }}</strong>
                        </mat-error>
                        <mat-error *ngIf="isControlError('email','maxlength')">
                            <strong>{{ 'global.messages.validate.email.maxlength' | translate }}</strong>
                        </mat-error>
                        <mat-error *ngIf="isControlError('email','email')">
                            <strong>{{ 'global.messages.validate.email.invalid' | translate }}</strong>
                        </mat-error>
                    </mat-form-field>

                </div>

                <div class='form-group'>
                    <mat-form-field class='mat-form-field-fluid'>
                        <mat-label>{{ 'global.form.newpassword.label' | translate }}</mat-label>
                        <input matInput type='password' id='password' name='password'
                               placeholder="{{ 'global.form.newpassword.label' | translate }}"
                               formControlName='password'>
                        <mat-error *ngIf="isControlError('password','required')">
                            <strong>{{ 'global.messages.validate.newpassword.required' | translate }}</strong>
                        </mat-error>
                        <mat-error *ngIf="isControlError('password','minlength')">
                            <strong>{{ 'global.messages.validate.newpassword.minlength' | translate }}</strong>
                        </mat-error>
                        <mat-error *ngIf="isControlError('password','maxlength')">
                            <strong>{{ 'global.messages.validate.newpassword.maxlength' | translate }}</strong>
                        </mat-error>
                    </mat-form-field>

                    <jhi-password-strength-bar
                        [passwordToCheck]="registerForm.get('password')!.value"></jhi-password-strength-bar>
                </div>

                <div class='form-group'>
                    <mat-form-field class='mat-form-field-fluid'>
                        <mat-label>{{ 'global.form.confirmpassword.label' | translate }}</mat-label>
                        <input matInput type='password' id='confirmPassword' name='confirmPassword'
                               placeholder="{{ 'global.form.confirmpassword.placeholder' | translate }}"
                               formControlName='confirmPassword'>
                        <mat-error *ngIf="isControlError('confirmPassword','required')">
                            <strong>{{ 'global.messages.validate.confirmpassword.required' | translate }}</strong>
                        </mat-error>
                        <mat-error *ngIf="isControlError('confirmPassword','minlength')">
                            <strong>{{ 'global.messages.validate.confirmpassword.minlength' | translate }}</strong>
                        </mat-error>
                        <mat-error *ngIf="isControlError('confirmPassword','maxlength')">
                            <strong>{{ 'global.messages.validate.confirmpassword.maxlength' | translate }}</strong>
                        </mat-error>
                    </mat-form-field>
                </div>

                <button mat-raised-button type='submit' [disabled]='registerForm.invalid' color='primary'
                        jhiTranslate='register.form.button'>Register
                </button>
            </form>

            <div class='mt-3 alert alert-warning'>
                <span jhiTranslate='global.messages.info.authenticated.prefix'>If you want to </span>
                <a class='alert-link' (click)='openLogin()' jhiTranslate='global.messages.info.authenticated.link'>sign
                    in</a><span jhiTranslate='global.messages.info.authenticated.suffix'>, you can try the default accounts:<br />- Administrator (login="admin" and password="admin") <br />- User (login="user" and password="user").</span>
            </div>
        </div>
    </div>
</div>
